声明但未赋值----->undefined

赋值了，但是值为空------>null

```js
console.log(undefined + 1);  // NaN
console.log(null + 1); // 1
console.log(undefined + null);	// NaN
```

---

### **开篇：一个核心比喻**

在深入细节之前，先记住这个比喻，它能帮你建立直观的理解：

*   **`undefined`**: 想象一个**根本就不存在的盒子**。你去找这个盒子，但连盒子的影子都找不到。它代表着一种**“缺失”**的状态。
*   **`null`**: 想象一个**确实存在的、空的盒子**。你找到了这个盒子，打开一看，里面什么都没有。它代表着一种**“空值”**的状态，是你有意为之的“空”。

---

### **第一站：`undefined` 的世界 —— 它是如何“自动”产生的**

`undefined` 是 JavaScript 的一个原始类型，它的值只有一个，就是 `undefined`。它的核心特点是：它通常是由 **JavaScript 引擎自动赋予**的，代表一个变量“应该有值，但现在还没有”。

**以下场景，你会自动得到 `undefined`：**

1.  **变量已声明但未初始化**
    这是最常见的场景。你告诉JS“我要一个变量”，但没告诉它里面装什么。

    ```javascript
    let name;
    console.log(name); // 输出: undefined
    ```

2.  **访问对象上不存在的属性**
    你试图在一个对象上找一个它没有的“钥匙”。

    ```javascript
    const person = { age: 25 };
    console.log(person.name); // 输出: undefined
    ```

3.  **函数没有明确的返回值**
    任何函数，如果你不使用 `return` 语句，或者 `return;` 后面不跟任何值，它的返回值默认就是 `undefined`。

    ```javascript
    function doNothing() {
      // 没有 return 语句
    }
    const result = doNothing();
    console.log(result); // 输出: undefined
    ```

4.  **函数调用时未提供实参**
    函数的形参没有接收到对应的实参。

    ```javascript
    function greet(name) {
      console.log(`你好, ${name}`);
    }
    greet(); // 输出: 你好, undefined
    ```

**`undefined` 的性质总结：**

*   **来源**: 通常是系统行为，是默认的“无值”状态。
*   **`typeof`**: `typeof undefined` 的结果是字符串 `'undefined'`。这是唯一一个返回值和自身值同名的。

---

### **第二站：`null` 的世界 —— 它是如何“有意”设定的**

`null` 同样是 JavaScript 的一个原始类型，也只有一个值 `null`。它的核心特点是：它必须由**程序员手动指定**，用来表示一个变量**“有意为之的空值”**，通常用作一个对象的占位符。

**`null` 的核心用途：**

1.  **明确地清空一个对象引用**
    当你希望一个曾经指向对象的变量不再指向它时（比如，为了让垃圾回收机制回收那个对象），你可以将它设置为 `null`。

    ```javascript
    let user = { name: 'Alice' };
    // ... user 对象被使用了一段时间 ...
    
    // 现在我们不再需要这个对象了，可以手动清空引用
    user = null;
    ```

2.  **作为对象初始化的占位符**
    当你明确知道一个变量未来会指向一个对象，但在初始化时还无法获取那个对象，`null` 是一个比 `undefined` 更好的选择。它清晰地表达了“这里未来会是一个对象，但现在是空的”。

    ```javascript
    let selectedProduct = null;
    // ... 用户在界面上点击一个商品后 ...
    // selectedProduct = { id: 123, name: '耳机' };
    ```

3.  **原型链的终点**
    这是一个更底层的概念，但能展现你的知识深度。`Object.prototype` 的原型就是 `null`，它代表原型链的查找在此结束。

    ```javascript
    console.log(Object.getPrototypeOf(Object.prototype)); // 输出: null
    ```

---

### **第三站：正面对决 —— 面试核心问答**

现在，我们把这些知识点整合成面试官最想听到的答案。

> #### **面试官 Q1：“请用你自己的话，解释一下 `null` 和 `undefined` 的区别。”**
>
> **完美回答思路：**
>
> 1.  **先给总结论（高屋建瓴）：**
>     “`null` 和 `undefined` 都表示‘没有值’，但它们的使用场景和哲学完全不同。**`undefined` 代表一个变量“应该有值但还未被赋值”的默认状态，通常是JavaScript引擎自动产生的；而 `null` 则代表一个“有意设置的空值”，通常是我们程序员主动赋值的，用来表示一个变量当前不指向任何对象。”**
>
> 2.  **再分点阐述（条理清晰）：**
>     *   **来源不同：** “`undefined` 往往是‘被动’的，比如声明变量不赋值、访问不存在的对象属性、函数无返回值等。`null` 则是‘主动’的，是我们编码时明确赋予的。”
>     *   **含义不同：** “我把 `undefined` 理解为一种‘状态缺失’，连盒子都没有。而 `null` 是一种‘值为空’，盒子是有的，但里面是空的。”
>     *   **类型转换不同：** “当它们转换为数字时，`Number(undefined)` 结果是 `NaN`，而 `Number(null)` 结果是 `0`。这一点在进行数学运算时需要特别注意。”
>
> 3.  **最后补充 `typeof` 的经典问题（展现深度）：**
>     “还有一个非常重要的区别是在 `typeof` 操作符上。`typeof undefined` 返回 `'undefined'`，而 `typeof null` 会返回 `'object'`。这其实是JavaScript早期的一个历史遗留bug，但因为兼容性问题被保留至今。”

---

> #### **面试官 Q2（追问）：“你刚才提到 `typeof null` 是 `'object'`，能详细说说为什么吗？”**
>
> **完美回答思路：**
>
> 1.  **直接定性：** “这是一个广为人知的JavaScript语言的**历史 bug**。”
> 2.  **解释原因（技术细节）：** “在JavaScript最初的实现中，内部值是通过一个类型标签和一个值来表示的。对象的类型标签是 `0`。而 `null` 在底层被实现为一个空指针（在大多数平台是 `0x00`），因此 `null` 的类型标签也是 `0`。这就导致 `typeof` 检查 `null` 时，错误地将其判断为了 `'object'`。”
> 3.  **表明现状：** “虽然社区曾有提案修复这个问题，但因为修改它会破坏大量现有网站的JavaScript代码（所谓的‘破坏web’），所以这个bug就被保留了下来，成为了语言规范的一部分。”
>
> **（这套回答下来，面试官会认为你不仅知其然，还知其所以然，非常加分。）**

---

> #### **面试官 Q3（再追问）：“那 `null == undefined` 和 `null === undefined` 的结果分别是什么？为什么？”**
>
> **完美回答思路：**
>
> 1.  **给出结果：**
>     *   “`null == undefined` 的结果是 `true`。”
>     *   “`null === undefined` 的结果是 `false`。”
>
> 2.  **解释原因：**
>     *   **关于 `==` (抽象相等)：** “这是因为ECMAScript规范中明确规定了，在使用双等号进行比较时，`null` 和 `undefined` 是**互相等价**的，并且它们不会再与其他任何值等价。这是一种特殊的规则，可以方便地同时检查一个变量是否为 `null` 或 `undefined`，例如 `if (value == null)`。”
>     *   **关于 `===` (严格相等)：** “严格相等运算符**不会进行类型转换**。它首先会比较两者的类型，`typeof null` 是 `'object'`，而 `typeof undefined` 是 `'undefined'`，因为类型不同，所以直接返回 `false`。”

---

### **最终总结与最佳实践**

现在你已经掌握了所有理论，我们来总结一下在实际开发中的指导原则：

1.  **永远优先使用 `===`：** 除非你有意要同时检查 `null` 和 `undefined`，否则始终使用严格相等，以避免双等号带来的隐式类型转换问题。

2.  **让 `undefined` 保持“天然”：** 尽量不要手动给一个变量赋值为 `undefined`。把它留给JavaScript引擎，作为它自己表示“缺失”的信号。这能让你的代码意图更清晰。

3.  **在需要时“主动”使用 `null`：** 当你想明确表示一个**本应是对象**的变量当前是“空的”或者“无效的”，请主动使用 `null`。这向其他阅读你代码的人传递了一个清晰的信号。

掌握了以上所有内容，你就可以在面试中自信地、有条理地、有深度地回答任何关于 `null` 和 `undefined` 的问题。去吧，征服它！
