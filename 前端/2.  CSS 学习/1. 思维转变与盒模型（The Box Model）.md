### **第 1 课：盒模型（The Box Model）**

​	在开始敲代码之前，我们先来纠正一个很多初学者甚至有经验的开发者都会犯的错误——**“像素眼”思维**。他们看到设计稿，第一反应是：“这个标题距离顶部 50px，左边 30px，宽度是 200px...”，然后就开始写 `margin-top: 50px; left: 30px; width: 200px;`。

​	这种思维是脆弱的、不可维护的。当内容变化、屏幕尺寸变化时，整个布局就会崩溃。

**正确的思维方式是“结构化”或“组件化”思维**。你要像盖房子一样，思考的是“盒子”与“盒子”之间的关系。“这个标题（盒子 A）在它的父容器（盒子 B）内部，它需要一些内部空间（padding）让文字不贴边，同时它和下面的段落（盒子 C）之间需要一些外部距离（margin）来保持呼吸感。”

理解了这个思想，我们再来看构成这一切的基础——**盒模型**。

#### **核心思想：`box-sizing: border-box;` 是现代 CSS 的基石**

想象一下，你买了一个 30 厘米宽的相框。这里的“30 厘米”指的是相框最外边缘的总宽度，对吧？你不会关心里面那张照片实际要缩到多小。

CSS 默认的盒模型 (`content-box`) 却不是这样工作的。

1.  **标准盒模型 (`box-sizing: content-box;`)**：
    *   你设置的 `width` 和 `height` **只作用于内容（content）区域**。
    *   最终在屏幕上渲染出的盒子的总宽度 = `width` + `padding-left` + `padding-right` + `border-left` + `border-right`。
    *   **这完全是反直觉的！** 你想让一个元素总宽度为 `200px`，你设置了 `width: 200px;`，然后加了一个 `padding: 10px;`，它的总宽度就变成了 `220px`，布局就乱了。

2.  **IE 盒模型 (`box-sizing: border-box;`)**：
    *   你设置的 `width` 和 `height` **是整个盒子（从边框到边框）的总宽度/高度**。
    *   最终在屏幕上渲染出的盒子的总宽度 = 你设置的 `width`。
    *   `padding` 和 `border` 的空间会从 `width` 内部“挤占”内容的空间。
    *   **这才是我们人类思考问题的方式！** 你要一个 `200px` 宽的盒子，它就是 `200px` 宽，无论你怎么加内边距和边框。

这就是为什么，在几乎所有现代 CSS 项目中，你都会在 CSS 文件的最开始看到这段代码。它的作用是为页面上所有元素启用这个更直观、更易于管理的盒模型。

```css
*,
*::before,
*::after {
  box-sizing: border-box;
}
```

**结论：忘记 `content-box` 的存在，将 `border-box` 刻进你的肌肉记忆里。这是构建任何可预测、可维护布局的第一步。**

---

#### **深度剖析：四个盒子的交互关系**

一个元素在页面上占据的空间，由四个嵌套的“盒子”组成：

```
+---------------------------------------------------+
|                      Margin                       |  <- 外边距：透明的，用来推开其他盒子
|   +-------------------------------------------+   |
|   |                   Border                    |   |  <- 边框：盒子的“描边”
|   |   +-----------------------------------+   |   |
|   |   |              Padding              |   |   |  <- 内边距：内容与边框之间的空间
|   |   |   +---------------------------+   |   |   |
|   |   |   |          Content          |   |   |   |  <- 内容：文字、图片等
|   |   |   |      (width & height)     |   |   |   |
|   |   |   +---------------------------+   |   |   |
|   |   +-----------------------------------+   |   |
|   +-------------------------------------------+   |
+---------------------------------------------------+
```

*   **Content (内容)**: 真正显示你的文本和图像的地方。
*   **Padding (内边距)**: 包围在内容区域外部的空白区域。元素的背景色会延伸到 `padding` 区域。
*   **Border (边框)**: 包围在内边距外部的线条。
*   **Margin (外边距)**: 包围在边框外部的空白区域。它是完全透明的，用来控制元素与其他元素之间的距离。

---

#### **面试焦点**

**面试官问：“请解释一下 CSS 的标准盒模型和 IE 盒模型的区别？”**

> **你的回答**：“它们的主要区别在于 `width` 和 `height` 属性的计算方式。在**标准盒模型**（`box-sizing: content-box`）中，`width` 和 `height` 只包含内容区域（content）的尺寸，不包括 `padding` 和 `border`。所以元素的实际渲染宽度会是 `width + padding*2 + border*2`。而在**IE盒模型**（`box-sizing: border-box`）中，`width` 和 `height` 包含了 `content`、`padding` 和 `border`，它指的是元素最终的渲染尺寸。这种方式更符合直觉，便于布局计算，因此在现代 Web 开发中，我们通常会通过 `box-sizing: border-box` 来统一使用这种模型。”

**面试官问：“你知道什么是外边距折叠（Margin Collapse）吗？在哪些情况下会发生？”**

> **你的回答**：“外边距折叠指的是在**垂直方向**上，两个或多个相邻的块级元素（block-level elements）的外边距会合并成一个外边距，合并后的外边距高度是所有外边距中的**最大值**，而不是它们的总和。
>
> 主要会发生在三种情况下：
>
> 1.  **相邻的兄弟元素**：一个元素的 `margin-bottom` 和它下面紧邻的兄弟元素的 `margin-top` 会发生折叠。
> 2.  **父元素和第一个/最后一个子元素**：如果一个父元素没有设置 `padding-top`、`border-top`，那么它的 `margin-top` 会和它第一个子元素的 `margin-top` 发生折叠。`margin-bottom` 同理。
> 3.  **空的块级元素**：如果一个块级元素里面没有任何内容，也没有设置 `padding` 或 `border`，那么它自身的 `margin-top` 和 `margin-bottom` 就会发生折叠。
>
> 需要注意的是，外边距折叠只发生在处于普通文档流中的块级元素上，对于浮动元素、绝对定位元素、Flexbox 布局和 Grid 布局的子项，是不会发生外边距折叠的。”

---

#### **实战任务**

现在，动手时间到了。请你创建一个 HTML 文件和一个 CSS 文件，完成以下任务，并用浏览器的开发者工具（按 F12）来验证你的观察。

1.  **创建两个盒子**：
    在 HTML 中创建两个 `<div>`，分别给它们 `class="box box-1"` 和 `class="box box-2"`。
2.  **体验 `content-box`**：
    *   在 CSS 中，给 `.box` 一个 `width: 200px;`、`height: 100px;`、`padding: 20px;` 和 `border: 10px solid black;`。
    *   给 `.box-1` 一个 `background-color: lightblue;`。
    *   **问题**：现在用开发者工具查看 `.box-1`，它在页面上占据的总宽度是多少？（提示：不是 200px）**260px**
3.  **体验 `border-box`**：
    *   在你的 CSS 文件顶部，加上我们之前学的“万能重置”代码。
    *   给 `.box-2` 一个 `background-color: lightgreen;`。
    *   **问题**：现在再用开发者工具查看 `.box-2`，它在页面上占据的总宽度是多少？感受一下它的可预测性。**200px**
4.  **观察外边距折叠**：
    *   给所有 `.box` 元素一个 `margin: 30px;`。
    *   **问题**：用开发者工具测量两个盒子之间的垂直间距。这个距离是 `60px`（30px + 30px）还是 `30px`？为什么？ **30px**

